#!/bin/bash
#
# Hand produced (not Autotools!)
#
outFile="StartPanel"
gpath="/usr/games/"
prog="SaitekRadioPanel"
defaultDevice="/dev/hidraw2"
defaultIP="127.0.0.1"
defaultUdev="n"
udevprog="SaitekRadioPaneludev"
noudevprog="SaitekRadioPanelnoudev"

read -p "Device address (default is $defaultDevice): " devaddr
read -p "Flightgear computer (default is $defaultIP): " ipaddr
read -p "Do you want the libudev version (y or n) (default is $defaultUdev): " udev

Options="--device ${devaddr:-$defaultDevice} --flightgear ${ipaddr:-$defaultIP}"
#echo "arguments are: $Options"

cat <<EOF >$outFile
#!/bin/bash
#
# Startup file for Radio Panel driver
#	generated by ./configure
#
$gpath$prog $Options &
EOF
chmod +x $outFile
echo "$outFile created"

# Now select the correct program to install


case ${udev:-$defaultUdev} in
	("y" | "Y") cp $udevprog $prog ;;
	("n" | "N") cp $noudevprog $prog ;;
	esac

